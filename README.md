# finops

## Introduction

![image](https://user-images.githubusercontent.com/22028539/152069622-3d0162aa-1444-4e98-bab0-2845730acb9f.png)

![image](https://user-images.githubusercontent.com/22028539/152069684-1d2ecec0-da58-44c1-8319-22dbbd3dc803.png)

![image](https://user-images.githubusercontent.com/22028539/152069702-fe5f858f-b7f2-4744-8301-001b64baadda.png)

![image](https://user-images.githubusercontent.com/22028539/152069746-d80fba48-e7a2-49dd-8f6b-1b675fa2c1d2.png)

### What is finops
![image](https://user-images.githubusercontent.com/22028539/152070054-d5eb5269-2d9e-45cc-b9aa-0265d9e30d2f.png)

### Metrics
![image](https://user-images.githubusercontent.com/22028539/152070148-26b813fe-fe34-4ad7-9c43-a00e4571998b.png)

### Basic Cloud Capabilities
![image](https://user-images.githubusercontent.com/22028539/152070196-130bce94-ea58-46d3-ad17-0131fa06ee7b.png)

### Phases
![image](https://user-images.githubusercontent.com/22028539/152070231-1b521f27-ff16-4450-b1a7-ffaa54f3d226.png)

### Core Principles
![image](https://user-images.githubusercontent.com/22028539/152070275-db3db975-b02a-4aed-8d2e-c229a6260eac.png)

### Why?
![image](https://user-images.githubusercontent.com/22028539/152070371-748adb19-2c58-44cc-939a-aa03d9b0b13e.png)

### Advantages
![image](https://user-images.githubusercontent.com/22028539/152070392-0e6d0788-8a44-453d-8889-0cca6308d176.png)

### Disadvantages
![image](https://user-images.githubusercontent.com/22028539/152070486-d6b997a9-e13d-4d58-aef8-28b4cc295dee.png)

### Mature status
![image](https://user-images.githubusercontent.com/22028539/152070536-29f954dc-8e43-40dc-97d7-a148e4aed019.png)

## MindMap

The interative mindmap can be founded at https://github.com/glauberss2007/finops/blob/main/FinOpsCourseMindMap1.1.zip

## Organization

![image](https://user-images.githubusercontent.com/22028539/152248742-39cc05c8-57ae-4089-9e11-ef240f1469b4.png)

FinOps at OCI?

### FinOps team location

![image](https://user-images.githubusercontent.com/22028539/152248908-edcdb24f-8db2-4670-b9d9-89dd203ac8e5.png)

![image](https://user-images.githubusercontent.com/22028539/152248977-774c92e2-59f7-4080-ba3f-da4ab75496c6.png)

### Use case
![image](https://user-images.githubusercontent.com/22028539/152249081-b72449e0-5bc9-4df5-a385-0d970bff0394.png)

## FinOps and Cloud language

### Vocabulary
![image](https://user-images.githubusercontent.com/22028539/152249678-a2cf6d71-790b-44d0-abf3-56c3ceb0d2c6.png)

### Cloud languages VS business languages
![image](https://user-images.githubusercontent.com/22028539/152250722-c6b7cae1-723d-4436-9186-16fe4dd7510e.png)

## Billing

![image](https://user-images.githubusercontent.com/22028539/152251649-203bfeb8-667e-469f-a20d-2fb22ae6969c.png)

![image](https://user-images.githubusercontent.com/22028539/152251687-548ccc32-8832-4813-9780-409b2f0d5477.png)

### Cloud spend formula

![image](https://user-images.githubusercontent.com/22028539/152251719-89004845-d30e-4b38-951c-4e99e169a14e.png)

### Aspects that affects yout bill

![image](https://user-images.githubusercontent.com/22028539/152251773-05ff83b6-4a2a-4a13-bab2-6a079998abb2.png)

### Keep in mind

![image](https://user-images.githubusercontent.com/22028539/152252185-6ea132e8-5ec8-4a7b-82c6-c4f6ac108423.png)

### Example on Azure

home> cost management > billing > cost management VS > Cost Analysis -> Downloa a file (CSV format)
- Implement cost alerts

## Step I: Inform

### Lifecicle
![image](https://user-images.githubusercontent.com/22028539/152252945-9558db50-941a-429a-8f9e-bd6e6e73cef8.png)

![image](https://user-images.githubusercontent.com/22028539/152252984-12a8fe20-64b6-418f-b9fd-9db4ba7db80b.png)

![image](https://user-images.githubusercontent.com/22028539/152253055-20b3b9a5-2ff3-44bb-8585-dc31cde3c63f.png)

![image](https://user-images.githubusercontent.com/22028539/152253121-68f342e6-4a08-4d88-8d34-f06a2f105000.png)

#### Allocation and Best Practices

![image](https://user-images.githubusercontent.com/22028539/152253350-66e65e19-8dc8-4ca6-ab4c-676840907de8.png)

![image](https://user-images.githubusercontent.com/22028539/152253414-4c63dea0-7b15-41a9-a628-9954e2c2a995.png)

![image](https://user-images.githubusercontent.com/22028539/152253482-b1c404f6-3df6-4526-8528-356f3b69bccd.png)

![image](https://user-images.githubusercontent.com/22028539/152253530-d8419b0f-6bf2-46a2-a8fd-6f13739bae71.png)

![image](https://user-images.githubusercontent.com/22028539/152253668-8bbea82e-2e8c-422c-bae9-8edafc19bc55.png)

![image](https://user-images.githubusercontent.com/22028539/152253732-fb18f397-192a-40cf-abe7-09ee21065ba6.png)

![image](https://user-images.githubusercontent.com/22028539/152253760-bcac3b5b-6603-482c-b463-8740c6c3f7fb.png)

![image](https://user-images.githubusercontent.com/22028539/152253820-c26c3be0-0f2a-482c-8e2d-111fe97c9ea5.png)

![image](https://user-images.githubusercontent.com/22028539/152253882-e646d611-479d-49fc-a915-4a2af7d12af6.png)

Tags
![image](https://user-images.githubusercontent.com/22028539/152253945-c82deed8-1ed0-4186-ae33-736894dc78d4.png)

Groups
![image](https://user-images.githubusercontent.com/22028539/152254178-05f790c3-d1a7-40db-af99-cf7e30b89b36.png)

Folder and organizations
![image](https://user-images.githubusercontent.com/22028539/152254240-2796c9d5-0b66-4e8e-855c-a22552f917c5.png)

![image](https://user-images.githubusercontent.com/22028539/152254255-d2c4cc81-3323-4644-934d-c35f7cf2076b.png)

![image](https://user-images.githubusercontent.com/22028539/152254294-36d09483-eab8-4aa1-8137-b1fc021c4953.png)

## Step II: Optimize

### Goas and Targets
![image](https://user-images.githubusercontent.com/22028539/152351359-aae80f2f-338f-4531-8c81-3787f50df587.png)

### Good cost allocation
![image](https://user-images.githubusercontent.com/22028539/152351424-5320fe43-4440-4890-896a-0bf803c6e986.png)

![image](https://user-images.githubusercontent.com/22028539/152351531-181a8ce8-83ef-42da-b6f7-50fb56ba32f2.png)

### Objectives and Key Results
![image](https://user-images.githubusercontent.com/22028539/152351595-236d753e-01fe-4ff9-b9d4-4b4ef3b367de.png)

### Goal

![image](https://user-images.githubusercontent.com/22028539/152351665-703a7048-24fa-4195-b0f4-087f4cfa1a33.png)

### Cost Trend
![image](https://user-images.githubusercontent.com/22028539/152351873-1a89fa41-53b8-4fb2-b10e-3daac0d4b352.png)


### Anomalie
![image](https://user-images.githubusercontent.com/22028539/152352009-ea994129-5739-4a32-be02-31783b963b42.png)

### Some ways
![image](https://user-images.githubusercontent.com/22028539/152352046-eff835d9-7484-4c0c-ae84-3cfeef17de90.png)

### Usage Optimization
![image](https://user-images.githubusercontent.com/22028539/152352201-b4f3efcc-3d98-4854-a229-a2828312bdf7.png)

![image](https://user-images.githubusercontent.com/22028539/152352259-8a3deeda-e07c-4c6c-b8d7-55c3c88016b7.png)

![image](https://user-images.githubusercontent.com/22028539/152352315-9eaad9ba-cf42-4faa-9af2-f87d6716b0dc.png)

![image](https://user-images.githubusercontent.com/22028539/152353412-1f6c9d1b-5a43-468e-8a7f-d675b7fd644c.png)

### Best Practice

![image](https://user-images.githubusercontent.com/22028539/152353505-72b9c0c4-a9f3-4956-ae82-d56e68a10c50.png)

### Rate Optimization (Reservations)

![image](https://user-images.githubusercontent.com/22028539/152353746-4fb5f502-85ac-4b76-bea3-1e4de8619454.png)

### Pricing

![image](https://user-images.githubusercontent.com/22028539/152353935-7d4ab436-3c2c-456b-8899-9d0f38654229.png)

![image](https://user-images.githubusercontent.com/22028539/152354161-e8b1e476-4b31-41cb-992b-3843a0b896e2.png)

### Reserved resources
![image](https://user-images.githubusercontent.com/22028539/152354743-0848374a-1aa5-4250-9827-90d093415c60.png)

![image](https://user-images.githubusercontent.com/22028539/152354901-aa4d70cd-9396-4a87-8d69-685a9dcbd370.png)

![image](https://user-images.githubusercontent.com/22028539/152354935-624bf3e0-6e63-470f-80e6-1bbf5175d82a.png)

### Commom mistakes
![image](https://user-images.githubusercontent.com/22028539/152355252-c9dc36cc-28e0-40d3-8b5c-252e6cd20e52.png)

![image](https://user-images.githubusercontent.com/22028539/152355413-51e72d57-317e-4e90-87e5-ec45b9515700.png)

### Tips
![image](https://user-images.githubusercontent.com/22028539/152355576-62a5c344-b024-4093-ace1-125d1cc15352.png)

### Strategy
![image](https://user-images.githubusercontent.com/22028539/152355718-f0ebc953-65ba-4344-90c5-7ef3942d4e44.png)

![image](https://user-images.githubusercontent.com/22028539/152355820-abda8bc4-5c46-4c11-9163-471ca9579e47.png)

![image](https://user-images.githubusercontent.com/22028539/152355947-4094c7ee-6569-40ae-b5aa-c45c3298c70f.png)

### FinOps Use Case 4
Check the file that has an use case example with objects, structure, tags and others definitions that can be changed/customized according to organization: https://github.com/glauberss2007/finops/blob/main/ContoseoFinOpsUseCase4.zip

## Step III: Operate

### Allign teams
![image](https://user-images.githubusercontent.com/22028539/152358021-a1e8d10b-499d-4388-b20b-3d296cda0b46.png)

![image](https://user-images.githubusercontent.com/22028539/152358048-524cb3e0-e910-4a42-aace-8e02ef8af070.png)

![image](https://user-images.githubusercontent.com/22028539/152358210-2b89af19-6e00-4678-9020-8a63792643c9.png)

![image](https://user-images.githubusercontent.com/22028539/152358287-213e0dad-d03f-48aa-979a-da9d6c3ec08a.png)

![image](https://user-images.githubusercontent.com/22028539/152358335-7ebf3fbe-b6db-43b9-bb1b-943b9a9508e0.png)

### Bad Citizens
![image](https://user-images.githubusercontent.com/22028539/152358540-dbac6219-d23f-46a8-a272-c68ad2c8662b.png)

### FinOps Use Case 5 ans 6

These 2 use case shows ans example of some resource optimize 
1. Tags on each resources
2. Move instances to SaaS with auto Scale
3. Reserver DB instances

## Specific Cloud FinOps Views
### AWS
#### FinOps on AWS
Overview
![image](https://user-images.githubusercontent.com/22028539/152366956-ac9ac5a7-e2be-47bb-94a5-6ab57e5848c8.png)

Accounts
![image](https://user-images.githubusercontent.com/22028539/152367203-fe30f613-f3d8-4d5d-84b0-feebf7d2e083.png)

RIs
![image](https://user-images.githubusercontent.com/22028539/152367330-eda6b176-e1b9-435b-81bd-31609117ba2c.png)

Saving Plans
![image](https://user-images.githubusercontent.com/22028539/152367423-4d41f10a-6273-40d0-aa22-f1bf6aa06575.png)

#### Tags and Costs
TAG overview: https://docs.aws.amazon.com/pt_br/AWSEC2/latest/UserGuide/Using_Tags.html
TAG cost allocation: https://docs.aws.amazon.com/pt_br/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html
Details: https://docs.aws.amazon.com/ARG/latest/userguide/tagging-resources.html

Example: AWS GUI -> Cost Explorer -> Filter by TAG

![image](https://user-images.githubusercontent.com/22028539/152371045-ec3b017d-9c57-48d8-b7ba-2f7c21ca9026.png)

#### Reservations and Saving Plans

AWS GUI -> EC2 -> Reserve Instance 

AWS GUI > Cost Management > Saving Plans

Ps: Purchase recomendations

#### AWS FinOps Tips and Tricks
1. Check "Maintain target capacity" for spot resourcers in order to auto deploy a new one when the current terminat.
2. Cluster auto scale details can be founded at: https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler/cloudprovider/aws

### Azure
Overview
![image](https://user-images.githubusercontent.com/22028539/152388920-d2da9768-539a-4bb8-b2de-b91c7e6a7d17.png)

Scope
![image](https://user-images.githubusercontent.com/22028539/152389240-2e5296f8-66e1-447f-83f0-42f7b620692e.png)

Hivrid benefit
![image](https://user-images.githubusercontent.com/22028539/152389353-9e96b2f4-cfca-45ac-ac44-0841b307c06d.png)

Tags to organize Azure resources
Take a look: https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources?tabs=json
Home > resource > Export Template (to see the json)

Ps: Not all resources can be taged. Details on https://docs.microsoft.com/pt-br/azure/azure-resource-manager/management/tag-support

Cost management > Cost analyses

Policy to enforce a specific TAG definiton, it will alert the current resourcers with no tag end enforce the tag during a new resource creation.

Best practice regard TAGs: https://docs.microsoft.com/pt-br/azure/cloud-adoption-framework/decision-guides/resource-tagging/

#### Reservations
reservations > purchase now > Chose the resource. Use see details to check the reservation price.

#### Advisor recomendations
Home > Cost Management > Advisor Recommendations

#### Automation Account
This resource make possile to auto turn off VM when not in period of use.

Create it on Home > Related Resources > Start/Stop VM and then apply to resource group according to: https://docs.microsoft.com/en-us/azure/azure-functions/start-stop-vms/deploy

The start-stop can also be applyed to clusters as you can see on https://docs.microsoft.com/pt-br/azure/aks/start-stop-cluster?tabs=azure-cli

PS: It is also possible to use a current licence of your windows server during a VM deploy so no new license will be necessary.

There also some discounts for Dev/Test projects and environment. More details can be founded at http://azure.microsoft.com/en-us/pricing/dev-test

### GCP
Overview
![image](https://user-images.githubusercontent.com/22028539/152397449-efaeb01d-d034-46a5-ab22-2d98ef5582c1.png)

Commited usage discount, you can distribute reserved number of vCPUs and/or memory among instances

![image](https://user-images.githubusercontent.com/22028539/152399970-61084703-0e9a-4b45-bee0-ac81d533baa6.png)

Commits in a Project
![image](https://user-images.githubusercontent.com/22028539/152400037-c57535e2-bcf1-41cf-a13a-4961a34f4c93.png)

#### Tags or Labels
Overview:
https://cloud.google.com/compute/docs/labeling-resources

Managing labels: 
https://cloud.google.com/resource-manager/docs/creating-managing-labels


#### Reservations

Coompute Engine > Purchase a commited use discount

### OCI

## Conclusion

Recomended Book for read: Cloud FinOps (J.R. Storment & Mike Fuller)


